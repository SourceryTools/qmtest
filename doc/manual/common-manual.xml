<?xml version="1.0"?>
<!--

  File:   common-manual.xml
  Author: Alex Samuel
  Date:   2001-05-17

  Contents:
    Manual for common QM components.

  Copyright (C) 2001 CodeSourcery LLC.  This material may
  be distributed only subject to the terms and conditions set forth in
  the Software Carpentry Open Publication License, which is available at:

    http://www.software-carpentry.com/openpub-license.html

-->
<chapter id="chap-common-manual">
 <title>Common Components</title>
 
 <para>This chapter describes features of the &qm; applications that are
 common to &qmtest; and &qmtrack;.</para>

 <section id="sec-rc">
  <title>The &qm; Configuration File</title>

  <para>&qm; allows you to set up a per-user configuration file that
  contains your personal preferences, defaults, and settings.</para>

  <para>On UNIX-like platforms, this file is named
  <filename>.qmrc</filename>, and resides in your home directory.  On
  Win32 platforms, ... &fixme;.</para>

  <para>The &qm; configuration file is a plain text file, with a format
  similar to that used in Microsoft Windows <filename>.INI</filename>
  files.  It is divided into sections by headings in square brackets.
  Three sections are supported: <literal>[common]</literal> contains
  configuration variables common to both the &qm; tools, while
  <literal>[test]</literal> and <literal>[track]</literal> contain
  configuration variables specific to one tool or the other.  Within
  each section, configuration variables are set using the syntax
  <literal><replaceable>variable</replaceable>=<replaceable>value</replaceable></literal>.</para>

  <para>Here's an example of a &qm; configuration file:</para>

  <screen>
&prompt;<userinput>cat ~/.qmrc</userinput>
<computeroutput>[common]
browser=/usr/local/bin/netscape

[test]
path=/usr/bin:/bin
</computeroutput></screen>

  <section id="sec-rc-common">
   <title>Common Configuration Variables</title>

   <para>These configuration variables are used in both &qm; tools.  You
   should define them in the <literal>[common]</literal> section of your
   &qm; configuration file.</para>

   <glosslist>

    <glossentry>
     <glossterm>
      <property>browser</property> (UNIX-like platforms only)
     </glossterm>
     <glossdef>
      <para>The path to your preferred web browser.  If omitted, &qm;
      makes an attempt to locate a browser on your computer.</para>
     </glossdef>
    </glossentry>

    <glossentry>
     <glossterm>
      <property>sendmail</property> (UNIX-like platforms only)
     </glossterm>
     <glossdef>
      <para>The path to the <filename>sendmail</filename> program, or a
      compatible replacement.  This program is used for sending email
      messages.  The default value is
      <filename>/usr/lib/sendmail</filename>.</para>
     </glossdef>
    </glossentry>

    <glossentry>
     <glossterm>
      <property>remote_shell</property> (UNIX-like platforms only)
     </glossterm>
     <glossdef>
      <para>The program used for running commands on remote computers.
      The program must accept the same syntax as the standard
      <filename>rsh</filename> command, and should be configured to run
      the command remotely without any additional interaction (such as
      requesting a password from the TTY).  The default value is
      <filename>/usr/bin/ssh</filename>.</para>
     </glossdef>
    </glossentry>

   </glosslist>

  </section> <!-- sec-rc-common -->

  <section id="sec-rc-test">
   <title>&qmtest; Configuration Variables</title>

   <para>These configuration variables are used in &qmtest;.  You should
   define them in the <literal>[test]</literal> section of your &qm;
   configuration file.</para>

   <glosslist>

    <glossentry>
     <glossterm>
      <property>path</property>
     </glossterm>
     <glossdef>
      <para>The path in which to search for executable files.  Many test
      classes use this path as a default when searcing for a test target
      executable.</para>
     </glossdef>
    </glossentry>

   </glosslist>

  </section> <!-- sec-rc-test -->

  <section id="sec-rc-track">
   <title>&qmtrack; Configuration Variables</title>

   <para>These configuration variables are used in &qmtrack;.  You
   should define them in the <literal>[track]</literal> section of your
   &qm; configuration file.</para>

   <!--
   <glosslist>
   </glosslist>
   -->

  </section> <!-- sec-rc-track -->

 </section> <!-- sec-rc -->

 <section id="sec-user-database">
  <title>The User Database</title>

  <para>The &qm; user database provides a mechanism for specifying and
  configuring user accounts.  &qm; user accounts are independent of user
  accounts on the operating system running the &qm; application.  In
  this manual, when we refer to &quot;users&quot; and
  &quot;groups,&quot; we are referring to those in the &qm; user
  database, not the operating system's.</para>

  <para>Each user is identified by a unique <firstterm>user
  ID</firstterm>.  The user ID may be composed of lower-case letters,
  digits, and underscores.  Similarly, each group is identified by a
  unique <firstterm>group ID</firstterm>, which must obey the same
  restrictions.</para>

  <para>The user database may optionally specify a default user account.
  In absence of other authentication information, &qm; will attempt to
  authenticate using the default user account, in order to provide
  anonymous access to application.  Remove or disable the default
  account to forbid anonymous access.  Only one default user account may
  be specified.</para>

  <section id="sec-users">
   <title>Users</title>

   <para>In addition to a user ID, each user account is configured with
   three sets of properties.</para>

   <itemizedlist>
    <listitem>
     <para><firstterm>Info</firstterm> properties contain general
     account information about the user.  Info properties are listed
     below:</para>

     <glosslist>

      <glossentry>
       <glossterm>
        <property>name</property>
       </glossterm>
       <glossdef>
        <para>The user's real name.</para>
       </glossdef>
      </glossentry>

      <glossentry>
       <glossterm>
        <property>email</property>
       </glossterm>
       <glossdef>
        <para>The user's Internet email address.</para>
       </glossdef>
      </glossentry>

     </glosslist>
    </listitem>

    <listitem>
     <para><firstterm>Authentication</firstterm> properties contain
     information used to authenticate the user.  Authentication
     properties are listed below:</para>

     <glosslist>
      <glossentry>
       <glossterm>
        <property>password</property>
       </glossterm>
       <glossdef>
        <para>The user's password (in cleartext).</para>
       </glossdef>
      </glossentry>
     </glosslist>
    </listitem>

    <listitem>
     <para><firstterm>Configuration</firstterm> properties contain
     application configuration information specific to the user.  &qm;
     uses configuration properties to store the user's
     preferences.</para>
    </listitem>
   </itemizedlist>

   <para>Each property is a identified by a property name.  The value
   of each property is a string.</para>

  </section> <!-- Users -->

  <section id="sec-xml-user-file">
   <title>The XML User File</title>

   <para>&qm; stores the user database in an XML file.  Currently,
   configuring users accounts and groups requires editing this file.
   Make sure no instance of the &qm; application is using the user
   database while you edit it; otherwise, your changes may be
   lost.</para>

   <para>A user is represented by a <sgmltag
   class="element">user</sgmltag> element.  The user's ID is specified
   in the <sgmltag class="attribute">id</sgmltag> attribute.  The
   account can be disabled by specifying the value &quot;yes&quot; for
   another attribute, <sgmltag class="attribute">disabled</sgmltag> (the
   account is enabled if this attribute is omitted).  To specify that a
   user account is the default user account, specify the value
   &quot;default&quot; for the <sgmltag class="attribute">role</sgmltag>
   attribute.</para>

   <para>A sample user element from in the user database looks like
   this:</para>

   <programlisting>
<![CDATA[<user id="johndoe" disabled="no">
 <info>
  <property name="name">John Doe</property>
  <property name="email">john@doe.org</property>
 </info>
 <authentication>
  <property name="password">!h@rd2guesSs</property>
 </authentication>
</user>
]]></programlisting>

   <para>A group is represented by a <sgmltag
   class="element">group</sgmltag> element.  As for a user, the group's
   ID is specified with the <sgmltag class="attribute">id</sgmltag>
   attribute.  The contents of the group element are <sgmltag
   class="element">user-id</sgmltag> elements, which list the IDs of
   users in the group.  The IDs must all refer to users in the same user
   database.</para>

   <para>A sample group element from the user database looks like
   this:</para>

   <programlisting>
<![CDATA[<group id="powerusers">
 <user-id>johndoe</user-id>
 <user-id>janesmith</user-id>
</group>
]]></programlisting>

   <para>&qm; recognizes a special group with group ID
   &quot;administrators&quot;.  Users included in this group are
   permitted to perform administrative operations on &qm; databases,
   servers, etc.</para>

  </section> <!-- The XML User File -->

 </section> <!-- The User Database -->

</chapter>
<!--
  Local Variables:
  mode: sgml
  indent-tabs-mode: nil
  sgml-indent-step: 1 
  sgml-always-quote-attributes: t
  sgml-general-insert-case: lower
  sgml-minimize-attributes: nil
  sgml-parent-document: ("manual.xml" "book" "chapter")
  End:
-->
