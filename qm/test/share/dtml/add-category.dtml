<dtml-comment><!--

  File:   add-category.dtml
  Author: Alex Samuel
  Date:   2001-04-16

  Contents:
    Document template for web page to specify a category for a test.

  Copyright (C) 2001 CodeSourcery LLC.  This material may
  be distributed only subject to the terms and conditions set forth in
  the Software Carpentry Open Publication License, which is available at:

    http://www.software-carpentry.com/openpub-license.html

--></dtml-comment>
<dtml-var expr="GenerateXMLHeader()">
 <dtml-var expr="GenerateHtmlHeader('Specify a Category')">
 <dtml-var expr="GenerateStartBody(decorations=0)">

  <table border="0" cellpadding="0" cellspacing="0" width="100%">
   <tr valign="top"><td width="100%">
    <h3>Specify a Category</h3>
   </td><td>
    <dtml-var expr="web.make_help_link('category popup')">
   </td></tr>
  </table>

  <form name="form"
        onsubmit="add_category();">

   <table border="0"
          cellpadding="6"
          cellspacing="4"
          width="100%">
    <tbody>
     <tr class="field" valign="top">
      <td>
       <b>Category</b>
       <p>Enter the name of the category.</p>
      </td>
      <td>
       <input type="text" size="32" name="category">
      </td>
     </tr>

     <tr class="field">
      <td colspan="2">
       <input type="submit" value="  OK  "/>
       <input type="button"
              value=" Cancel "
              onclick="window.close();"/>
      </td>
     </tr>
    </tbody>
   </table>

  </form>

  <dtml-var expr="GenerateStartScript()">
  function add_category()
  {
    var category = document.form.category.value;
    var select = window.opener.document.form._set_categories;
    var contents = window.opener.document.form.categories;
    if(category != "")
      window.opener.add_to_set(select, contents, category, category);
    window.close();
    return false;
  }
  <dtml-var expr="GenerateEndScript()">

 <dtml-var expr="GenerateEndBody(decorations=0)">
</html>

<dtml-comment><!-- 
  Local Variables:
  mode: xml
  indent-tabs-mode: nil
  fill-column:72
  End:
--></dtml-comment>
