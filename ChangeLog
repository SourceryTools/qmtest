2001-03-14  Alex Samuel  <samuel@codesourcery.com>

	* qm/web.py (PrivilegedPortError): New class.
	(WebServer.Bind): Handle EACCES.
	* qm/track/server.py (start_server): Handle PrivilegedPortError.
	* qm/track/diagnostics.txt (privileged port): New diagnostic.

2001-03-14  Alex Samuel  <samuel@codesourcery.com>

	* qm/track/config.py (diagnostic): Generate path to diagnostics
	file. 

2001-03-14  Alex Samuel  <samuel@codesourcery.com>

	* qm/fields.py (EnumerationField.FormatValueAsHtml): Fix name and
	value defaults.
	* qm/track/config.py (setup_idb_for_internal_use): Don't generate
	issues. 

2001-03-14  Alex Samuel  <samuel@codesourcery.com>

	* qm/track/web/templates/index.dtml: Fix typo.

2001-03-14  Alex Samuel  <samuel@codesourcery.com>

	* qm/web.py (WebServer.__init__): Add address parameter.
	(WebServer.Bind): Use __address.
	* qm/track/server.py (start_server): Add address parameter.
	* qm/track/cmdline.py (Command.address_option): New variable.
	(Command.qmtrack_commands): Use it.
	(Command.__PerformServer): Handle address option.
	
2001-03-14  Alex Samuel  <samuel@codesourcery.com>

	* qm/structured_text.py (TextFormatter.__init__): Set default
	width to 78.  Initialize __depth.
	(TextFormatter.StartList): Don't indent outermost paragraphs.
	(TextFormatter.EndList): Likewise.
	(to_text): Fix comment.
	* qm/cmdline.py (CommandParser.GetOptionsHelp): Adjust output.
	(CommandParser.GetCommandHelp): Treat command description as
	structured text. 

	* qm/track/issue_class.py (IssueClass.__init__): Add title and
	description. 
	(IssueClass.GetTitle): New method.
	(IssueClass.GetDescription): Likewise.
	* qm/track/idb.py (IdbBase.Query): Don't handle multiple issue
	classes here.
	* qm/track/sql_idb.py (SqlIdb.Query): Likewise.
	(SqlIdb.__AddResults): Remove.
	* qm/track/config.py (setup_idb_for_internal_use): New function.
	(setup_idb_for_test): Set class title.
	* qm/track/cmdline.py (Command): Update option descriptions.
	(Command.internal_option): New variable.
	(Command.qmtrack_commands): Use it.
	(Command.__PerformInitialize): Handle internal option.

	* qm/track/web/summary.py (SummaryPageInfo.__init__): Partition
	issues by class.  Handle reverse sort.
	(SummaryPageInfo.MakeResortUrl): Indicate reverse sort where
	appropriate. 
	(handle_summary): Loop over issue classes when querying.
	* qm/track/web/index.py (IndexPageInfo.__init__): Extract issue
	classes for IDB. 
	* qm/track/web/stylesheets/qmtrack.css (th.issue_class): New
	style. 
	* qm/track/web/templates/summary.dtml: Show issues grouped by
	class. 
	* qm/track/web/templates/show.dtml: Print class for new issue.
	* qm/track/web/templates/index.dtml: Show select for issue class
	for new issue.

2001-03-13  Alex Samuel  <samuel@codesourcery.com>

	* qm/web.py (WebRequestHandler.do_GET): Flush and shut down
	socket.
	* qm/fields.py: New file.

	* qm/track/issue.py: Likewise.
	(Attachment): Remove.
	* qm/track/diagnostics.txt (field exist): Don't use class as a
	parameter name. 
	* qm/track/cmdline.py (Command.__CheckFieldTypes): Don't use class
	as a parameter name.  Use qm.field.

	* qm/track/web/web.py: Use qm.field.
	(form_field_prefix): Remove.
	(attachment_description_prefix): Likewise.
	(attachment_mime_type_prefix): Likewise.
	(attachment_location_prefix): Likewise.
	(attachment_file_name_prefix): Likewise.
	(make_form_field_value): Likewise.
	(format_field_value): Likewise.
	(format_int_field_value): Likewise.
	(format_text_field_value): Likewise.
	(format_set_field_value): Likewise.
	(format_enum_field_value): Likewise.
	(format_attachment_field_value): Likewise.
	(make_url_for_attachment): Add field argument.  Insert into
	AttachmentField. 
	* qm/track/web/show.py (handle_submit): Use qm.field.
	(ShowPageInfo.FormatFieldValue): Handle read_only and
	initialize_only attributes.
	(validate_mime_type): Remove.
	(extract_attachment_field_value): Likewise.
	(decode_set_field_value): Likewise.
	(handle_submit): Simplify, using qm.field.
	* qm/track/sql_idb.py: Use qm.field.
	* qm/track/test.py: Likewise.
	* qm/track/config.py (setup_idb_for_test): Likewise.
	* qm/track/idb.py: Likewise.
	* qm/track/issue_class.py (IssueField): Remove.
	(IssueFieldInteger): Likewise.
	(IssueFieldText): Likewise.
	(IssueFieldSet): Likewise.
	(IssueFieldAttachment): Likewise.
	(IssueFieldEnumeration): Likewise.
	(IssueFieldTime): Likewise.
	(IssueFieldUid).
	(IssueClass.__init__): Use qm.field.
	* qm/track/web/templates/upload-attachment.dtml: Use new
	attachment encoding.

2001-03-13  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/test.py (test_graph_cycle): Define.
	(test_graph_complete): Likewise.
	(test_graph_pass): Likewise.
	(regression_tests): Add the above.
	* qm/graph.py: New file.

2001-03-09  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/track/diagnostics.txt: Add new error messages.
	* qm/track/cmdline.py: Fixed formatting for raising errors.

2001-03-05  Alex Samuel  <samuel@codesourcery.com>

	* qm/track/web/show.py (handle_submit): Format error messages.
	* qm/track/server.py (start_server): Handle address in use errors.
	(execute): Issue diagnostics.
	* qm/track/issue_class.py: Use diagnostics throughout.
	(IssueFieldText.Validate): Convert from DOS text.
	* qm/track/diagnostics.txt: New file.
	* qm/track/config.py (__diagnostics): New variable.
	(diagnostic): New function.
	(error): Likewise.
	(warning): Likewise.
	* qm/track/cmdline.py (Command.__PerformDestroy): Handle lock error.

	* qm/web.py (AddressInUseError): New class.
	(WebServer.Bind): Raise it.
	(escape): Reimplement.
	(__entity_regex): New variable.
	(__replacement_for_entity): New function.
	(unescape): New function.
	(format_structured_text): Reimplement.
	* qm/diagnostic.py: New file.
	* qm/structured_text.py: Likewise.
	* qm/common.py (FileSystemMutex.GetPath): New method.
	(MapReplacer): New class.
	(replace_by_map): New function.
	(convert_from_dos_text): Likewise.

2001-03-01  Alex Samuel  <samuel@codesourcery.com>

	* README: Adjust tutorial.
	* qm/track/web/web.py (PageInfo.GenerateStartBody): Adjust
	navigation bar. 
	* qm/track/config.py (setup_idb_for_test): Ajust titles.
	* qm/track/issue_class.py (IssueClass.__init__): Likewise.
	* qm/track/cmdline.py (Command.__PrintResults): Add full format
	style.

2001-03-01  Alex Samuel  <samuel@codesourcery.com>

	* README: Update.
	* qm/web.py (WebRequestHandler.__HandleScriptRequest): Handle
	SystemExit. 
	(WebServer.__init__): Initialize __shutdown_requested.
	(WebServer.Run): Run until shutdown request.
	(WebServer.RequestShutdown): New method.
	* qm/common.py (remove_directory_recursively): New function.
	* qm/track/web/templates/show.dtml: Use field title.
	* qm/track/web/templates/index.dtml: Adjust.  Add shutdown.
	* qm/track/web/images/sc-logo.png: New file.
	* qm/track/web/web.py (PageInfo.GenerateStartBody): Adjust title
	bar. 
	* qm/track/web/index.py (IndexPageInfo.MakeShutdownForm): New
	method. 
	* qm/track/issue_class.py (default_categories): Adjust.
	(IssueField.GetTitle): New method.
	(IssueField.GetDescription): Likewise.
	(IssueFieldSet.__init__): Use attributes from contained field.
	(IssueClass.__init__): Adjust mandatory fields.
	* qm/track/config.py (get_idb_lock): New function.
	(open_idb): Use it.
	(setup_idb_for_test): Adjust test values.
	* qm/track/cmdline.py: Adjust command descriptions.  Add destroy
	command. 
	(Command.__init__): Register destroy.
	(Command.__PerformDestroy): New method.

2001-02-28  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/track/sql_idb.py (Query): Define.
	(__AddResults): Likewise.
	(__ConvertToSQL): Likewise.
	(__AstToSQL): Likewise.
	(__AstToSQLHelper): Likewise.
	(__CheckTautology): Likewise.
	
2001-02-28  Alex Samuel  <samuel@codesourcery.com>

	Support attachments in the web UI.
	
	* qm/web.py (WebRequestHandler.__HandleScriptRequest): Handle
	results that aren't HTML.
	* qm/common.py (format_byte_count): New function.

	* qm/track/sql_idb.py (SqlIdb.__init__): Pass arguments to base
	class. 
	(SqlIdb.Close): New method.
	* qm/track/server.py (start_server): Add upload-attachment,
	submit-attachment, and download-attachment handlers.
	* qm/track/memory_idb.py (MemoryIdb.__init__): Pass arguments to
	base initializer.  Don't create directory.
	(MemoryIdb.Close): Call base-class Close.
	* qm/track/issue.py (Attachment.__init__): Add parameter defaults.
	(Attachment.__cmp__): New method.
	* qm/track/idb.py (IdbBase.__init__): Take more arugments.  Create
	the directory.  Set up attachments.
	(IdbBase.Close): New method.
	(IdbBase.GetNewAttachmentLocation): Likewise.
	(IdbBase.SetAttachmentData): Likewise.
	(IdbBase.GetAttachmentData): Likewise.
	(IdbBase.GetAttachmentSize): Likewise.
	(IdbBase.__GetAttachmentPath): Likewise.
	(get_field_type_description_for_query): Describe attachments.
	* qm/track/gadfly_idb.py (GadflyIdb.__init__): Pass arguments to
	base initializer.  Don't create directory.
	(GadflyIdb.Close): Call base-class Close.
	* qm/track/config.py (setup_idb_for_test): Add attachments field.
	* qm/track/cmdline.py (Command.__PerformInitialize): Fix exception.

	* qm/track/web/show.py (validate_mime_type): New function.
	(extract_attachment_field_value): Likewise.
	(decode_set_field_value): Likewise.
	(handle_submit): Process attachments and sets using above.  Don't
	add an identical revision.
	* qm/track/web/web.py (UploadAttachmentPageInfo): New class.
	(attachment_description_prefix): New variable.
	(attachment_mime_type_prefix): Likewise.
	(attachment_location_prefix): Likewise.
	(attachment_file_name_prefix): Likewise.
	(format_field_value): Handle attachments.
	(format_int_field_value): Handle form_encoded style.
	(format_text_field_value): Likewise.
	(format_set_field_value): Likewise.  Format brief and full
	differently.  Fill option values with form-encoded elements.
	Generate add function differently for different contained field
	types. 
	(format_enum_field_value): Handle form_encoded style.
	(format_attachment_field_value): New function.
	(handle_upload_attachment): Likewise.
	(handle_submit_attachment): Likewise.
	(handle_download_attachment): Likewise.
	(make_url_for_attachment): Likewise.
	* qm/track/web/templates/upload-attachment.dtml: New file.

2001-02-27  Alex Samuel  <samuel@codesourcery.com>

	* qm/track/server.py (start_server): Bind the server.
	* qm/web.py (HTTPServer): New class.
	(WebServer): Derive from HTTPServer.
	(WebServer.GetXmlRpcUrl): Use GetServerAddress.
	(WebServer.Run): Don't bind here.
	(WebServer.Bind): New function.
	(WebServer.GetServerAddress): New method.

2001-02-27  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/track/cmdline.py (__Parse): Change formatting to happen from
	command options.

2001-02-27  Alex Samuel  <samuel@codesourcery.com>

	* qm/common.py (get_host_name): Add fallback logic.

2001-02-26  Alex Samuel  <samuel@codesourcery.com>

	* README: Clarify --test-values flag.

	* qm/track/server.py (execute): Rearrange exception handling.
	* qm/track/issue_class.py (IssueFieldIid.SetDefaultValue): New method.
	* qm/track/config.py (initialize_idb): Check that the IDB path
	doesn't exist.
	
2001-02-25  Alex Samuel  <samuel@codesourcery.com>

	* qm/web.py (make_url_button): New function.
	(PageInfo.MakeUrlButton): Call it.
	* qm/cmdline.py (CommandParser.BuildGetoptString): Don't add
	argument indicator if there's no short form.

	* qm/track/issue_class.py (default_categories): Add some bogus
	test values.
	(IssueField.Validate): Raise ValueError instead.
	(IssueFieldText): Add nonempty attribute.
	(IssueFieldText.Validate): Do validation.
	(IssueFieldAttachment.Validate): Raise ValueError.
	(IssueFieldEnumeration.__init__): Likewise.  Validate better.
	(IssueFieldIid.__init__): New method.
	(IssueFieldIid.Validate): Likewise.
	(IssueFieldUid.__init__): Likewise.
	(IssueClass.__init__): Make iid an IssueFieldIid.  Make summary
	nonempty.
	* qm/track/issue.py (Issue.__init__): Don't validate.
	(Issue.SetField): Likewise.
	(Issue.Validate): New function.
	(Issue.AssertValid): Likewise.
	(Issue.IsDeleted): Likewise.
	* qm/track/idb.py (get_field_type_description_for_query): Place
	enumerals in double quotes.
	* qm/track/config.py (setup_idb_for_test): Add problem_reports
	field. 
	* qm/track/memory_idb.py (MemoryIdb.AddIssue): Check issue
	validity.
	(MemoryIdb.AddRevision): Likewise.
	* qm/track/sql_idb.py (SqlIdb.AddIssue): Likewise.
	(SqlIdb.AddRevision): Likewise.

	* qm/track/web/web.py (format_field_value): Add name argument.
	(format_int_field_value): Likewise.
	(format_text_field_value): Likewise.  Adjust formatting.
	(format_set_field_value): Implement.
	(format_enum_field_value): Add name argument.  Change option
	values. 
	* qm/track/web/summary.py (SummaryPageInfo.IsIssueShown): Always
	return 1. 
	(handle_summary): Filter out deleted issues.
	* qm/track/web/show.py (ShowPageInfo.__init__): Add field_errors
	argument. 
	(handle_show): Make sure iid is specified.
	(handle_submit): Add is_new.  Issue error on revision
	incoherency.  Handle encoded set fields.  Validate submission and
	generate resubmission pages.
	* qm/track/web/stylesheets/qmtrack.css: Adjust.
	* qm/track/web/templates/show.dtml: Adjust formatting.  Use more
	styles.  Support field error messages.
	* qm/track/web/templates/query.dtml: Adjust table formatting.

2001-02-22  Alex Samuel  <samuel@codesourcery.com>

	* templates/dtml: Adjust.
	* qm/web.py (make_form_for_request): New function.
	* qm/track/sql_idb.py: Fix imports.
	(SqlIdb.__FilterCurrentRows): New function.
	(SqlIdb.GetIssues): Use it.
	* qm/track/issue_class.py: Fix imports.
	* qm/track/server.py (start_server): Add index and query pages.
	* qm/track/idb.py (IdbBase.Query): Use repr instead of quoting
	strings. 
	(get_field_type_description_for_query): New function.
	* qm/track/config.py (get_name): New function.
	(get_default_class): Likewise.
	* qm/track/web/web.py (PageInfo.GenerateStartBody): Add stuff to
	nav bar.
	(PageInfo.GetName): New method.
	(generate_error_page): New function.
	* qm/track/web/summary.py (SummaryPageInfo.__init__): Accept
	issues as argument.
	(handle_summary): Handle query arguments.
	* qm/track/web/show.py (handle_show): Use generate_error_page.
	* qm/track/web/index.py: New file.
	* qm/track/web/query.py: Likewise.
	* qm/track/web/templates/error.dtml: New file.
	* qm/track/web/templates/index.dtml: Likewise.
	* qm/track/web/templates/query.dtml: Likewise.

2001-02-21  Alex Samuel  <samuel@codesourcery.com>

	* qm/web.py (PageInfo.MakeUrlButton): New method.
	(PageInfo.MakeImageUrl): Likewise.
	(PageInfo.MakeSpacer): Likewise.
	(PageInfo.MakeRule): Likewise.

	* qm/track/sql_idb.py (SqlIdb.__BuildSqlForFieldValue): Call
	escape_for_sql. 
	(SqlIdb.__GetFieldFromRow): Call unescape_for_sql.
	(escape_for_sql): New function.
	(unescape_for_sql): Likewise.
	* qm/track/server.py (start_server): Register image path.
	(execute): Pass through KeyboardInterrupt.
	* qm/track/qmtrack.in: Handle KeyboardInterrupt.
	* qm/track/issue_class.py (IssueField.ValuesAreEqual): New method.
	* qm/track/issue.py (get_differing_fields): New function.
	* qm/track/gadfly_idb.py (GadflyCursor.execute): Flush log file.

	* qm/track/web/web.py (HistoryPageInfo): New class.
	(format_text_field_value): Fix brief output of multiline text.
	* qm/track/web/summary.py (SummaryPageInfo.__init__): Use
	GetIssues.
	* qm/track/web/show.py (ShowPageInfo.IsShowField): Show revision
	if it's not current.
	(ShowPageInfo.FormatFieldValue): Generate revision specially.
	(ShowPageInfo.MakeEditUrl): Adjust url.
	(ShowPageInfo.MakeHistoryUrl): Likewise.
	(ShowPageInfo.MakeShowRevisionUrl): New method.
	(ShowPageInfo.FormatHistory): Likewise.
	(handle_show): Set up extra stuff for history or past revisions.
	(handle_new): Fix typo.
	* qm/track/web/templates/show.dtml: Adjust formatting for history.
	* qm/track/web/templates/history.dtml: New file.

	* qm/track/web/images: New directory.
	* qm/track/web/images/clear.gif: New file.

2001-02-20  Alex Samuel  <samuel@codesourcery.com>

	* qm/common.py (UserError): New class.
	(get_host_name): Use gethostbyname_ex.
	* qm/cmdline.py (CommandError): Derive from UserError.

	* qm/track/sql_idb.py (SqlIdb.GetIssues): New method.
	(SqlIdb.Query): Remove.
	(SqlIdb.GetIssue): Allow none where clause.
	* qm/track/server.py (execute): Catch UserError instead of
	RuntimeError.
	* qm/track/memory_idb.py (MemoryIdb.AddIssueClass): Raise KeyError
	on duplicate.
	(MemoryIdb.GetIssues): Support retrieval of all issues in a single
	class.
	* qm/track/gadfly_idb.py (GadflyIdb.__init__): Don't lock.
	(GadflyIdb.__del__): Rename to...
	(GadflyIdb.Close): ... this.  Don't unlock.
	* qm/track/config.py (open_idb): Fix typo in exception code.

2001-02-20  Alex Samuel  <samuel@codesourcery.com>

	* templates/py: Set emacs fill-column.
	
	* Makefile.in (SUBDIRS): Remove doc.  Add sgmlop.
	(setup): Add sgmlop/Makefile.
	(sgmlop/Makefile): New rule.
	* README: Add third-party software list.
	* standard.mk.in (all): Remove doc.
	
	* qm/web.py (WebRequestHandler.__ProcessRequest): Rename to...
	(WebRequestHandler.__HandleRequest): ... this.
	(WebRequestHandler.__HandleScriptRequest): New method.
	(WebRequestHandler.__HandleXmlRpcRequest): Likewise.
	(WebRequestHandler.__HandleFileRequest): Likewise.
	(WebServer.__init__): Initialize XML-RPC.  Set port and log file here. 
	(WebServer.GetXmlRpcUrl): New method.
	(WebServer.IsXmlRpcUrl): Likewise.
	(WebServer.Run): Don't set port and log file here.
	* qm/setup_path.py.in: Add sgmlop and xmlrpc to path.
	* qm/common.py (format_exception): New function.

	* qm/track/qmtrack.in (script_name): Remove.  Set state variable
	instead.
	(exit_code): New variable.
	Handle exceptions differently.
	* qm/track/server.py (do_command_for_xml_rpc): New function.
	(start_server): Enable XML-RPC.  Write XML-RPC URL to URL file.
	(execute): Handle error messages and exit code.  Implement remote
	mode. Handle exceptions.
	* qm/track/config.py (open_idb): Set server_url state in remote mode.
	(close_idb): Clean up correspondingly.
	* qm/track/cmdline.py (Command.GetArgumentList): New function.
	* qm/track/web/summary.py (SummaryPageInfo.IsShowIssue): Rename to...
	(SummaryPageInfo.IsIssueShown): ... this.
	* qm/track/web/templates/summary.dtml: Adjust accordingly

2001-02-18  Alex Samuel  <samuel@codesourcery.com>

	* README: Add more instructions.
	* qm/common.py (label_regex): Rename to...
	(__label_regex): ... this.
	(label_thunk_regex): Rename to...
	(__label_thunk_regex): ... this.
	(__host_name): New variable.
	(get_host_name): New function.
	* qm/track/config.py (open): Rename to...
	(open_idb): ... this.  Catch only IOError.
	(close): Rename to...
	(close_idb): ... this.
	(initialize): Rename to...
	(initialize_idb): ... this.
	* qm/track/cmdline.py: Adjust accordingly.
	* qm/track/qmtrack.in: Likewise.
	* qm/track/server.py (start_server): Write URL file.
	(execute): Fix typo.

2001-02-18  Alex Samuel  <samuel@codesourcery.com>

	* Makefile.in (SUBDIRS): Add qm.
	(README): Update.
	* configure.in (AC_OUTPUT): Add qm/Makefile.
	* configure: Regenerate.	
	* standard.mk.in (PYTHONBIN): New macro.
	(PYTHON): Use it.

	* qm/Makefile.in: New file.
	* qm/command_line.py: Rename to...
	* qm/cmdline.py: ... this, with heavy modifications.
	* qm/common.py (FileSystemMutex.MutexLockError): Remove.
	(FileSystemMutex.Lock): Make sure parnet directory exists.
	(FileSystemMutex.IsLocked): New method.
	(Configuration): New class.
	(base_directory): New variable.
	(get_base_directory): New function.
	* qm/setup_path.py.in: New file.
	* qm/web.py: Likewise.

	* qm/track/qmtrack.in: New file.
	* qm/track/__init__.py: Update imports.
	* qm/track/qmtrack.py: Rename to...
	* qm/track/cmdline.py: ... this, with heavy modifications.
	* qm/track/config.py: New file.
	* qm/track/idb.py: Clean up imports and comments.
	(IdbBase.PerformQuery): Rename to...
	(IdbBase.Query): ... this.  Adjust.
	(get_ib_class): New function.
	* qm/track/issue.py (Issue.__init__): Don't object to missing
	field values. 
	(Issue.StampTime): New method.
	(IssueSortPredicate): New class.
	* qm/track/issue_class.py (IssueField.__init__): Initialize more
	attributes. 
	(IssueField.IsAttribute): New method.
	(IssueFieldText): Rename multiline attribute to structured.
	(IssueFieldEnumeration.Validate): Try int conversion.
	(IssueFieldEnumeration.GetEnumerals): New method.
	(IssueFieldEnumeration.ValueToName): Likewise.
	(IssueClass.__init__): Adjust mandatory fields.
	(IssueClass): Redefine __fields attribute and add
	__fields_by_name.  Use throughout.
	* qm/track/memory_idb.py (MemoryIdb.__init__): Don't lock.
	(MemoryIdb.__del__): Rename to...
	(MemoryIdb.Close): ... this.
	(MemoryIdb.AddIssue): Stamp time.
	(MemoryIdb.AddRevision): Likewise.
	(MemoryIdb.GetIids): New method.
	(MemoryIdb.GetIssues): Return copies of current revisions only.
	(MemoryIdb.GetAllRevisions): Return copies.
	(MemoryIdb.Query): Remove.
	* qm/track/server.py: New file.
	* qm/track/sql_idb.py (SqlIdb.AddIssue): Stamp time.
	(SqlIdb.AddRevision): Likewise.

	* qm/track/web: New directory.
	* qm/track/web/__init__.py: New file.
	* qm/track/web/show.py: Likewise.
	* qm/track/web/summary.py: Likewise.
	* qm/track/web/web.py: Likewise.
	* qm/track/web/stylesheets: New directory.
	* qm/track/web/stylesheets/qmtrack.css: New file.
	* qm/track/web/templates: New directory.
	* qm/track/web/templates/show.dtml: New file.
	* qm/track/web/templates/summary.dtml: Likewise.

	* templates/dtml: New file.
	
2001-02-16  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/command_line.py: Fix formatting issue.
	* qm/track/qmtrack.py: Likewise. Fix bug to catch exception when
	Validate fails on a SetField.

2001-02-16  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/command_line.py: Fix coding standards issues.
	* qm/track/idb.py (IdbBase::PerformQuery): Define.
	* qm/track/qmtrack.py: Fix split up strings to use 'printf' syntax.
	(CommandLine::PerformQuery): Move code into idb.py. Only do UI stuff.
	
2001-02-15  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/track/qmtrack.py: Fix coding standards issues.
	* qm/track/issue_class.py: Likewise.
	* qm/track/memory_idb.py: Likewise.

	* qm/command_line.py (CommandParser::ParseCommandLine): Fix
	to use 'write' instead of print. Add code to check for command
	existence.
	
2001-02-14  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/track/issue_class.py (IssueFieldEnumeration::GetEnumeration): 
	Define.
	(IssueClass::__init__): Make 'iid' have no default value.

	* qm/track/memory_idb.py (MemoryIdb::GetIssues): Define.

	* qm/track/qmtrack.py (CommandLine::__init__): Initialize 
	results.
	(CommandLine::ParseFieldValuePairs): Handle no '=' in string.
	(CommandLine::OpenDatabase): Change warning to error.
	(CommandLine::PerformCreate): Fix bugs and do type checking on
	fields. Do mandatory fields correctly.
	(CommandLine::CheckFieldTypes): Define.
	(CommandLine::PerformEdit): Fix bugs and do type checking on
	fields.
	(CommandLine::PerformQuery): Define.
	
2001-02-12  Benjamin Chelf  <chelf@codesourcery.com>

        * qm/track/qmtrack.py (__main__): Change to catch exception.
	* qm/command_line.py (ErrorHandler): Change to raise exception.
	
	* qm/track/qmtrack.py (PrintResults): Change from 'print' to
	write.

2001-02-11  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/command_line.py (ErrorHandler): New method.
	(__init): Add output parameter.
	(ParseCommandLine): Fix bugs.
	
	* qm/track/qmtrack.py: New file.

2001-02-08  Alex Samuel  <samuel@codesourcery.com>

	Module zope-dtml is now part of this module.  Add configury to set
	up and use it.
	
	* configure.in (/usr/lib/python1.5/config/Makefile.pre.in): Check file.
	* configure: Regenerate.
	* Makefile.in (SUBDIRS): Add zope-dtml/ExtensionClass.
	(setup): Add zope-dtml/ExtensionClass/Makefile.
	(zope-dtml/ExtensionClass/Makefile): New rule.
	* standard.mk.in (PYTHON): Build PYTHONPATH.
	(PYTHONDIRS): New variable.

2001-01-09  Benjamin Chelf  <chelf@codesourcery.com>

	* qm/command_line.py: New file.

	* qm/test.py (test_parser_create): Define.
	(test_paresr_parse): Likewise.
	(test_parser_help): Likewise.
	(test_parser_duplicate_long): Likewise.
	(test_parser_duplicate_short): Likewise.
	(test_parser_two_char_short): Likewise.
	(test_parser_no_long): Likewise.
	(test_parser_dup_command_short): Likewise.
	(test_parser_dup_command_long): Likewise.
	(regession_tests): Add above tests.

2001-01-09  Alex Samuel  <samuel@codesourcery.com>

	* Makefile.in (PYTHONDOCDIRS): New variable.
	* standard.mk.in (doc-python): Build for PYTHONDOCDIRS only.

2001-01-09  Alex Samuel  <samuel@codesourcery.com>

	* README.sources: Clarify naming conventions.
	* templates/py: Add section banners.
	
	* configure.in: New file.
	* install-sh: Likewise.
	* configure: Likewise.
	* standard.mk.in: New file.
	* standard.mk: Remove.
	* Makefile.in: New file.
	* Makefile: Remove.
	* doc/Makefile.in: New file.
	* doc/Makefile: Remove.
	* doc/design/qmconfig/Makefile.in: New file.
	* doc/design/qmconfig/Makefile: Remove.
	* doc/design/qmtest/Makefile.in: New file.
	* doc/design/qmtest/Makefile: Remove.
	* doc/design/qmtrack/Makefile.in: New file.
	* doc/design/qmtrack/Makefile: Remove.
	
2001-01-09  Alex Samuel  <samuel@codesourcery.com>

	* README: New file.

2001-01-08  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk (BUILDDIR): New macro.
	(DOCDIR): Likewise.
	(HAPPYDOC): Likewise.
	(doc): Depend on doc-python.
	(doc-python): New rule.

2001-01-07  Alex Samuel  <samuel@codesourcery.com>

	* qm/track/__init__.py: Import idb.
	* qm/track/idb.py: New file.
	* qm/track/sql_idb.py (SqlIdb): Drive from IdbBase.
	(SqlIdb.__init__): Initialize base class.
	(SqlIdb.AddIssue): Process triggers.  Return result code.
	(SqlIdb.AddRevision): Likewise.
	(SqlIdb.GetIssue): Process triggers.
	(SqlIdb.GetAllRevisions): Likewise.
	(SqlIdb.RegisterTrigger): Remove.
	(SqlIdb.UnregisterTrigger): Likewise.
	(SqlIdb.GetTriggers): Likewise.
	(SqlIdb.__InsertIssue): New method.
	* qm/track/gadfly_idb.py (GadflyIdb.__init__): Initialize base class.
	* qm/track/memory_idb.py (MemoryIdb): Derive from IdbBase.
	(MemoryIdb.__init__): Initialize base class.
	(MemoryIdb.AddIssue): Process triggers.  Return result code.
	(MemoryIdb.AddRevision): Likewise.
	(MemoryIdb.GetIssue): Process triggers.
	(MemoryIdb.GetAllRevisions): Likewise.
	(MemoryIdb.RegisterTrigger): Remove.
	(MemoryIdb.UnregisterTrigger): Likewise.
	(MemoryIdb.GetTriggers): Likewise.
	(MemoryIdb.__InsertIssue): New method.
	* qm/track/test.py (TestPreupdateTrigger): New class.
	(test_preupdate_trigger): New test.
	(TestGetTrigger): New class.
	(test_get_trigger): New test.
	(TestPostupdateTrigger): New class.
	(test_postupdate_trigger): New test.
	(regression_tests): Add new tests.
	Run memory IDB tests first.

2001-01-04  Alex Samuel  <samuel@codesourcery.com>

	* qm/common.py (MutexLockError): New class.
	(FileSystemMutex): Likewise.
	* qm/regression_test.py (run_regression_test_driver): Don't exit.
	* qm/test.py: New file.
	
	* qm/track/issue.py (Issue.__init__): Adjust for changes in
	IssueClass. 
	(Issue.Copy): New function.
	(Attachment): New class.
	* qm/track/issue_class.py (default_categories): New variable.
	(default_states): Likewise.
	(IssueField.__init__): Handle default values differently.
	(IssueField.GetDefaultValue): Likewise.
	(IssueField.SetDefaultValue): New function.
	(IssueField.UnsetDefaultValue): Likewise.
	(IssueField.HasDefaultValue): Likewise.
	(IssueFieldInteger.__init__): Set default value.
	(IssueFieldText.__init__): Likewise.
	(IssueFieldSet.__init__): Likewise.
	(IssueFieldAttachment.__init__): Likewise.
	(IssueFieldEnumeration.__init__): Likewise.
	(IssueFieldTime.__init__): Likewise.
	(IssueFieldUid.__init__): Likewise.
	(IssueClass.__init__): Create mandatory fields.
	(IssueClass.GetFields): Store fields as a map.
	(IssueClass.HasField): New function.
	* qm/track/gadfly_idb.py: New file.
	* qm/track/sql_idb.py: Likewise.
	* qm/track/memory_idb.py: Likewise.
	* qm/track/test.py: Adjust for new field initializers throughout.
	(test_create_idb): New test.
	(test_add_issue_class): Likewise.
	(test_add_issues): Likewise.
	(test_get_issues): Likewise.
	(test_attachments): Likewise.
	
2001-01-04  Alex Samuel  <samuel@codesourcery.com>

	* gadfly/__init__.py: New file.

	* templates/Makefile: Update year.
	* templates/docbook: Likewise.
	* templates/docbook-chapter: Likewise.
	* templates/html: Likewise.
	* templates/py: Likewise.
	* templates/xml: Likewise.

2000-12-22  Alex Samuel  <samuel@codesourcery.com>

	* gadfly/.cvsignore: New file.
	
2000-12-28  R. Lindsay Todd  <toddr@rpi.edu>

	* doc/design/qmconfig/design-td.xml: Added new sections and
	details.
	
	* doc/design/qmconfig/design-lm.xml: Break into sections.
	* doc/design/qmconfig/design-probe.xml: Likewise.
	* doc/design/qmconfig/design-td.xml: Likewise.

2000-12-27  R. Lindsay Todd  <toddr@rpi.edu>

	* doc/design/qmconfig/biblio.xml: Add an id.

	* doc/design/qmconfig/design-pdd.xml: New file.
	* doc/design/qmconfig/design-basic.xml: New file.

	* doc/design/qmconfig/figures/pkg_qmconfig.*: Re-scale.
	* doc/design/qmconfig/design.xml: Add format="PNG" to imagedata's.
	* doc/design/qmconfig/design-lm.xml: Likewise.
	* doc/design/qmconfig/design-probe.xml: Likewise.
	* doc/design/qmconfig/design-td.xml: Likewise.
	* doc/design/qmconfig/requirements.xml: Likewise.

2000-12-26  R. Lindsay Todd  <toddr@rpi.edu>
	
	* standard.mk: Run pdfjadetex thrice, to get all references correct.

	* doc/design/qmconfig/design-probe.xml: Updated API for probe
	class, to be consistent with other components.
	* doc/design/qmconfig/figures/cl_probe.*: Updated to match API for
	probe class.

	* doc/design/qmconfig/design-lm.xml: Add figure for LangServ.
	* doc/design/qmconfig/figures/cl_langserv.*: New file.

2000-12-22  Alex Samuel  <samuel@codesourcery.com>

	* Makefile (setup): New target.
	(gadfly/sqlwhere.py): Likewise.
	* standard.mk (setup): New phony target.
	
2000-12-22  Alex Samuel  <samuel@codesourcery.com>

	* Makefile: New file.

2000-12-21  Alex Samuel  <samuel@codesourcery.com>

	* qm/.cvsignore: New file.
	* qm/track/.cvsignore: Likewise.
	
2000-12-21  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk (PRINTTEX): Define as dummy if there's no DocBook.
	(PRINTPDF): Likewise.
	(test): New target.

	* qm/__init__.py: New file.
	* qm/common.py: Likewise.
	* qm/regression_test.py: Likewise.
	* qm/track/__init__.py: Likewise.
	* qm/track/issue.py: Likewise.
	* qm/track/issue_class.py: Likewise.
	* qm/track/test.py: Likewise.
	
2000-12-15  R. Lindsay Todd  <toddr@rpi.edu>

	* doc/design/qmconfig/design.xml: Reorder some sections.
	* doc/design/qmconfig/design-lm.xml: Add additional ids.
	* doc/design/qmconfig/design-td.xml: Likewise.
	* doc/design/qmconfig/design-probe.xml: Likewise.  Added rough
	draft of probe database.

2000-12-15  R. Lindsay Todd  <toddr@rpi.edu>

	* doc/design/qmconfig/overview.xml: Remove /> sequences, so as to
	not confuse psgml.
	* doc/design/qmconfig/design-lm.xml: Likewise.
	* doc/design/qmconfig/requirements.xml: Likewise.
	* doc/design/qmconfig/design.xml: Likewise.
	* doc/design/qmconfig/design-td.xml: Likewise.

2000-12-15  R. Lindsay Todd  <toddr@rpi.edu>

	* doc/design/qmconfig/design.xml: Add/fix id's.
	* doc/design/qmconfig/intro.xml: Likewise.
	* doc/design/qmconfig/overview.xml: Likewise.
	* doc/design/qmconfig/requirements.xml: Likewise.
	* doc/design/qmconfig/design-td.xml: Likewise.  Fix images.
	* doc/design/qmconfig/qmconfig.xml: Add qm.mod.

2000-12-14  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk ($(PRINTDIR)/$(PRINTPDF)): Return true even if empty
	$(DOCBITMAPS).

2000-12-14  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk ($(PRINTDIR)/$(PRINTPDF)): Handle empty $(DOCBITMAPS).

2000-12-14  Alex Samuel  <samuel@codesourcery.com>

	* README.sources: Update ChangeLog and documentation instructions. 

2000-12-13  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk ($(PRINTDIR)/$(PRINTPDF)): Copy bitmaps into print
	dir instead of setting paths. 
	* doc/design/qmconfig/design-probe.xml: Scale images.
	* doc/design/qmconfig/design-td.xml: Likewise.
	* doc/design/qmconfig/design.xml: Likewise.
	* doc/design/qmconfig/requirements.xml: Likewise.

2000-12-13  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk ($(HTMLMANIFEST)): Put graphics filename in manifest
	only.
	* doc/design/qmconfig/design-probe.xml: Adjust image filenames.
	* doc/design/qmconfig/design-td.xml: Likewise.
	* doc/design/qmconfig/design.xml: Likewise.
	* doc/design/qmconfig/requirements.xml: Likewise.

2000-12-13  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk ($(PRINTDIR)/$(PRINTPDF)): Set TEXINPUTS.
	* doc/design/qmconfig/Makefile (DOCBITMAPS): Set it.
	* doc/design/qmtext/iface.xml: Always require qmtest subcommand.

2000-12-13  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtest/iface.xml: Twiddle command-line syntax.

	* doc/design/qmtest/core.xml: Regularize entity ids.
	* doc/design/qmtest/impl.xml: Likewise.
	* doc/design/qmtest/qmtest.xml: Likewise.
	* doc/design/qmtest/req.xml: Likewise.

2000-12-07  Alex Samuel  <samuel@codesourcery.com>

	* doc/qm.mod (gui): New entity.
	(url): Likewise.
	* doc/design/qmtrack/concepts.xml: Fix typos.
	* doc/design/qmtrack/implementation.xml: Likewise.
	* doc/design/qmtrack/introduction.xml: Likewise.
	* doc/design/qmtrack/requirements.xml: Likewise.
	* doc/design/qmtrack/triggers.xml: Likewise.
	* doc/design/qmtrack/user-interface.xml: Likewise.
	* doc/design/qmtrack/xml-repr.xml: Likewise.
	
2000-12-07  Alex Samuel  <samuel@codesourcery.com>

	Tag "version-0-2" for delivery to LANL.
	
	* standard.mk ($(HTMLINDEX)): Process graphics here.
	($(HTMLMANIFEST)): Remove separate target.
	
	* doc/qm-html.dsl (%generate-legalnotice-link%): Define true.
	* doc/qm-print.dsl (%chapter-autolabel%): Likewise.
	(%section-autolabel%): Likewise.
	* doc/qm-opl.xml: New file.
	* doc/qm.mod (qmbuild): Use <application> element.
	(qmconfig): Likewise.
	(qmtest): Likewise.
	(qmtrack): Likewise.
	(html): New entity.
	(mime): Likewise.
	(dashdash): Likewise.
	(qmlicense): Likewise.

	* doc/design/qmtest/core.xml: Edit for style, spelling,
	consistency, and markup.
	* doc/design/qmtest/iface.xml: Likewise.
	* doc/design/qmtest/impl.xml: Likewise.
	* doc/design/qmtest/qmtest.xml: Likewise.
	* doc/design/qmtest/refs.xml: Likewise.
	* doc/design/qmtest/req.xml: Likewise.
	
	* doc/design/qmtrack/concepts.xml: Likewise.
	* doc/design/qmtrack/implementation.xml: Likewise.
	* doc/design/qmtrack/introduction.xml: Likewise.
	* doc/design/qmtrack/qmtrack.xml: Likewise.
	* doc/design/qmtrack/requirements.xml: Likewise.
	* doc/design/qmtrack/triggers.xml: Likewise.
	* doc/design/qmtrack/user-interface.xml: Likewise.
	* doc/design/qmtrack/xml-repr.xml: Likewise.
	
2000-12-06  Alex Samuel  <samuel@codesourcery.com>

	* doc/qm.mod (idb): Remove entity.
	(iid): Likewise.
	(faq): New entity.
	
	* doc/design/qmtest/refs.xml: Strip linefeeds.

	* doc/design/qmtrack/qmtrack.xml (idb): New entity.
	(iid): Likewise.
	(uid): Likewise.
	* doc/design/qmtrack/concepts.xml: Edit.
	* doc/design/qmtrack/implementation.xml: Likewise.
	* doc/design/qmtrack/triggers.xml: Likewise.
	* doc/design/qmtrack/user-interface.xml: Likewise.
	* doc/design/qmtrack/xml-repr.xml: Likewise.
	* doc/design/qmtrack/introduction.xml: Incorporate new text.
	* doc/design/qmtrack/requirements.xml: Likewise.
	* doc/design/qmtrack/references.xml: New file.
	* doc/design/qmtrack/state-model-example.dia: Likewise.
	* doc/design/qmtrack/state-model-example.png: Likewise.
	
2000-12-06  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/design/qmtrack/create1.html: New file.
	* doc/design/qmtrack/create2.html: Likewise.
	* doc/design/qmtrack/edit1.html: Likewise.
	* doc/design/qmtrack/edit2.html: Likewise.
	* doc/design/qmtrack/query1.html: Likewise.
	* doc/design/qmtrack/query2.html: Likewise.
	* doc/design/qmtrack/main1.html: Likewise.

	* doc/design/qmtrack/create1.jpg: Update.
	* doc/design/qmtrack/create2.jpg: Likewise.
	* doc/design/qmtrack/edit1.jpg: Likewise.
	* doc/design/qmtrack/edit2.jpg: Likewise.
	* doc/design/qmtrack/query1.jpg: Likewise.
	* doc/design/qmtrack/query2.jpg: Likewise.
	* doc/design/qmtrack/query3.jpg: Likewise.
        * doc/design/qmtrack/main1.jpg: New file.

	* doc/design/user-interface.xml: Update e-mail section by adding
	headers. Flesh out web section.
	
2000-12-05  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/qmtrack.xml (idb-impl.xml): Remove entity.
	* doc/design/qmtrack/idb-impl.xml: Remove.
	* doc/design/qmtrack/implementation.xml: Describe SQL IDB.
	* doc/design/qmtrack/xml-repr.xml: Tune.
	
2000-12-05  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/user-interface.xml: Tidy up formatting.

2000-12-05  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/design/qmtrack/user-interface.xml: Fix inconsistencies with
	other sections.
	* doc/design/qmtrack/create1.jpg: Update.
	* doc/design/qmtrack/edit1.jpg: Likewise.
	* doc/design/qmtrack/edit2.jpg: Likewise.
	* doc/design/qmtrack/query1.jpg: Likewise.
	* doc/design/qmtrack/query2.jpg: Likewise.
	* doc/design/qmtrack/query3.jpg: Likewise.

2000-12-05  R. Lindsay Todd  <toddr@rpi.edu>

	* doc/design/qmconfig/design-td.xml: New file

2000-12-05  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/Makefile (DOCBITMAPS): Add *.png.
	* doc/design/qmtrack/web-gui-states.dia: New file.
	* doc/design/qmtrack/web-gui-states.png: Likewise.
	* doc/design/qmtrack/concepts.xml: Add categories section.
	* doc/design/qmtrack/idb-impl.xml: Edit.
	* doc/design/qmtrack/triggers.xml: Explain get triggers better.
	* doc/design/qmtrack/user-interface.xml: Expand.
	
2000-12-04  Alex Samuel  <samuel@codesourcery.com>

	* doc/qm.mod: New file.
	* doc/design/qmtest/qmtest.xml: Don't declare phrase entities.
	Incorporate qm.mod.
	* doc/design/qmtrack/qmtrack.xml: Likewise.
	* doc/design/qmtrack/introduction.xml: Add link.
	* doc/design/qmtrack/user-interface.xml: Fix entity.  Fix ulink.
	* doc/design/qmtrack/xml-repr.xml: Improve example.

2000-12-04  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/concepts.xml: Edit.  Add ids.
	* doc/design/qmtrack/idb-impl.xml: Likewise.
	* doc/design/qmtrack/implementation.xml: Likewise.
	* doc/design/qmtrack/introduction.xml: Likewise.
	* doc/design/qmtrack/requirements.xml: Likewise.
	* doc/design/qmtrack/xml-impl.xml: Likewise.
	
2000-12-04  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk (HTMLINDEX): New macro.
	(PRINTDIR): Likewise.
	(PRINTTEX): Likewise.
	(PRINTPDF): Likewise.
	(html-dir): Remove target.
	(html-output): Likewise.
	(html-graphics): Likewise.
	($(HTMLINDEX)): New target.
	($(HTMLMANIFEST)): Likewise.
	($(HTMLTARBALL)): Change dependencies.
	(docbook-print): Remove target.
	($(PRINTTEX)): New target.
	($(PRINTPDF)): Likewise.
	(%.html): Likewise.
	
	* doc/design/qmtrack/qmtrack.xml (dtml): New entity.
	(implementation.xml): Likewise.
	(idb-api.xml): Remove entity.
	Add authors.
	* doc/design/qmtrack/concepts.xml: Include triggers and
	user interface sections.
	* doc/design/qmtrack/idb-api.xml: Rename to...
	* doc/design/qmtrack/implementation.xml: ... this.  Add trigger
	API.  Include IDB implementation section.
	* doc/design/qmtrack/idb-impl.xml: Make it a section.
	* doc/design/qmtrack/triggers.xml: Remove API stuff.  Make it a
	section. 
	* doc/design/qmtrack/user-interface.xml: Make it a section.
	Reformat. 
	
2000-12-02  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/design/qmtrack/user-interface.xml: Update e-mail section.

2000-12-01  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk: Update instructional comments.
	(HTMLDIR): New macro.
	(HTMLMANIFEST): Likewise.
	(HTMLTARBALL): Likewise.
	(docbook-html): Make it a collection target only.
	(html-dir): New target.
	(html-output): Likewise.
	(html-graphics): Likewise.
	($(HTMLTARBALL)): Likewise.
	(docbook-print): Process TeX output for PDF.

	* doc/design/qmtest/iface.xml: Add ids.  Clean up markup and
	identation. 
	* doc/design/qmtest/qmtest.xml (prompt): New entity.
	* doc/design/qmtest/req.xml: Remove bogus tag.

	* doc/design/qmtrack/Makefile (DOCBITMAPS): New macro.
	* doc/design/qmtrack/user-interface.xml: Add ids.

2000-12-01  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/concepts.xml: Add ids.  Rearrange sections.
	* doc/design/qmtrack/idb-api.xml: Remove queries section.
	* doc/design/qmtrack/idb-impl.xml: Fix link.
	* doc/design/qmtrack/introduction.xml: Don't include requirements.xml. 
	* doc/design/qmtrack/qmtrack.xml (prompt): New entity.
	(qmtrack-cmd): Likewise.
	Don't include xml-repr.xml.  Include requirements.xml.
	* doc/design/qmtrack/requirements.xml: Make it a chapter.
	* doc/design/qmtrack/user-interface.xml: Edit command-line
	section.  Tidy formatting.
	* doc/design/qmtrack/xml-repr.xml: Make it a section.
	
2000-11-30  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/qmtrack.xml: Don't include user-api.xml.
	* doc/design/qmtrack/user-api.xml: Remove.
	
2000-11-30  Alex Samuel  <samuel@codesourcery.com>

	* doc/qm-html.dsl (html-manifest): Set true.
	(html-manifest-filename): Set to "docbook-html.manifest".
	(%use-id-as-filename%): Set to true.
	
	* doc/design/qmtrack/qmtrack.xml (api): New entity.
	(sc): Likewise.
	(introduction.xml): Likewise.
	Include introduction.
	* doc/design/qmtrack/introduction.xml: New file.
	* doc/design/qmtrack/requirements.xml: Make it a section.  Edit.
	* doc/design/qmtrack/concepts.xml: Revise introductory text.
	Add ids.  Rename time field.  
	
2000-11-30  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/desgin/qmtrack/create1.jpg: New file.
	* doc/desgin/qmtrack/create2.jpg: Likewise.
	* doc/desgin/qmtrack/edit1.jpg: Likewise.
	* doc/desgin/qmtrack/edit2.jpg: Likewise.
	* doc/desgin/qmtrack/edit3.jpg: Likewise.
	* doc/desgin/qmtrack/query1.jpg: Likewise.
	* doc/desgin/qmtrack/query2.jpg: Likewise.
	* doc/desgin/qmtrack/query3.jpg: Likewise.	
	
	* doc/design/qmtrack/user-interface.xml: Update to contain new
	ideas for interfaces.

2000-11-30  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/concepts.xml: Rename mandatory fields.
	Rewrite queries section.
	* doc/design/qmtrack/idb-api.xml: Edit.
	* doc/design/qmtrack/idb-impl.xml: New file.
	* doc/design/qmtrack/qmtrack.xml: Include idb-impl.xml.
	* doc/design/qmtrack/xml-repr.xml: Add ids and links.
	
2000-11-30  Alex Samuel  <samuel@codesourcery.com>

	* doc/qm-html.dsl (%section-autolabel%): Set to true.
	(chunk-skip-first-element-list): Set to empty list.

2000-11-29  Mark Mitchell  <mark@codesourcery.com>

	* doc/design/qmtest/qmtest.xml: Revise heavily, tightening
	prose, clarifying concepts, etc.
	* doc/design/qmtest/core.xml: Likewise.
	* doc/design/qmtest/impl.xml: Likewise.
	* doc/design/qmtest/req.xml: Likewise.

2000-11-29  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/qmtrack.xml: Make acronyms upper-case.
	(dtd): New entity.
	(xml): Likewise.
	Include xml-repr.xml.
	* doc/design/qmtrack/triggers.xml: Finish.
	* doc/design/qmtrack/xml-repr.xml: New file.
	* doc/design/qmtrack/user-interface.xml: Add id's.  Fix some
	indentation. 
	
2000-11-28  Mark Mitchell  <mark@codesourcery.com>

	* doc/design/qmtest/core.xml: Fix DocBook syntax errors.
	* doc/design/qmtest/impl.xml: Likewise.
	* doc/design/qmtest/qmtest.xml: Likewise.
	* doc/design/qmtest/refs.xml: Likewise.
	* doc/design/qmtest/req.xml: Likewise.
	* doc/design/qmtest/design.html: Remove.

2000-11-28  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/triggers.xml: New file.

2000-11-27  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/design/qmtrack/qmtrack.xml: Add user-interface.xml.
	* doc/design/qmtrack/user-api.xml: Fix typos.
	* doc/design/qmtrack/user-interface.xml: New file.

2000-11-26  Alex Samuel  <samuel@codesourcery.com>
	
	* doc/design/qmtrack/idb-api.xml: Add missing </section> tag.
	
2000-11-26  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtrack/concepts.xml: Continue.
	* doc/design/qmtrack/idb-api.xml: Likewise.

2000-11-25  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/design/qmtrack/user-api.xml: Make style changes. Update
	based on conversations with Alex.

2000-11-20  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtest/req.xml: New file.

2000-11-20  Alex Samuel  <samuel@codesourcery.com>

	* README.sources: Add discussion of doc strings.

2000-11-20  Benjamin Chelf  <chelf@codesourcery.com>

	* doc/design/qmtrack/qmtrack.xml: Added user-api.xml.
	* doc/design/qmtrack/user-api.xml: New file.

2000-11-16  Alex Samuel  <samuel@codesourcery.com>

	* doc/concept: New directory.
	* doc/concept/sapcat: Likewise.
	* doc/design/qmconfig/*: Surgically move all repository files to...
	* doc/concept/sapcat/*: ... here.

2000-11-10  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk (docbook-html): Fix files to tidy.

2000-11-10  Alex Samuel  <samuel@codesourcery.com>

	Conversion to DocBook.
	
	* standard.mk (TIDYFLAGS): Use one-space indent.
	(JADE): New variable.
	(JADEEXTRA): Likewise.
	(SGMLDIRS): Likewise.
	(HTMLSS): Likewise.
	(PRINTSS): Likewise.
	(NULLSTIRNG): Likewise.
	(SPACE): Likewise.
	(doc): New rule.
	(doc-html): New rule, conditionally.
	(doc-print): Likewise.
	(docbook-html): New rule.
	(docbook-print): Likewise.
	* doc/GNUmakefile: Rename to...
	* doc/Makefile: ... this.
	
	* doc/qm-print.dsl: New file.
	* doc/qm-html.dsl: Likewise.
	
	* doc/design/qmtest/GNUmakefile: Rename to...
	* doc/design/qmtest/Makefile: ... this.
	* doc/design/qmtest/*.xhtml: Remove.
	* doc/design/qmtest/*.xml: New files.

	* doc/design/qmtrack/GNUmakefile: Rename to...
	* doc/design/qmtrack/Makefile: ... this.
	* doc/design/qmtrack/*.xhtml: Remove.
	* doc/design/qmtrack/*.xml: New files.

	* templates/docbook: New file.
	* templates/docbook-chapter: Likewise.
	* templates/xml: Add XML PI.
	
2000-11-06  Alex Samuel  <samuel@codesourcery.com>

	* doc/GNUmakefile (SUBDIRS): Add design/qmtest.

2000-11-06  Alex Samuel  <samuel@codesourcery.com>

	* doc/process-xhtml.py: Handle multiple term classes.  Use
	pickling for .terms file.
	(terms_classes): New list.
	(terms_def_classes): Likewise.
	* templates/html: Add emacs gunk to set fill-column.
	
2000-11-03  Alex Samuel  <samuel@codesourcery.com>

	* doc/process-xhtml.py (clean_up_term): New function.
	Use it.  Try to handle pluralized terms.
	* doc/qm.css (div.XML): New class.
	(span.Function): Likewise.
	
2000-11-01  Alex Samuel  <samuel@codesourcery.com>

	* doc/qm.css (a.Dfn): Remove.
	(a.TermDef): Fix background-color.
	(span.Identifier): Recreate.
	(span.Class): Likewise.
	(table): New style.
	(tr.Heading): New class.
	(span.Fixme): Likewise.

	* templates/html: Add Emacs local variables.

2000-10-31  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk (%.html): Fix.
	* doc/process-xhtml.py: Fix href attribute.
	* doc/qm.css (a.TermDef): Fix font-style.
	(div.api): Rename to...
	(div.API): ... this.
	(span.Identifier): New class.
	(span.Class): Likewise.
	
	* doc/design/qmtest/terms.xhtml: New file.
	
2000-10-27  Alex Samuel  <samuel@codesourcery.com>

	* templates/html: Use Open Publication License.
	* doc/design/qmtest/design.html: Likewise.
	* doc/design/qmtrack/index.xhtml: Likewise.
	* doc/design/qmtrack/architecture.xhtml: Likewise.
	* doc/design/qmtrack/requirements.xhtml: Likewise.
	
2000-10-26  Alex Samuel  <samuel@codesourcery.com>

	* doc/process-xhtml.py: Convert to coding standards.
	* doc/qm.css (div.api): New style.
	* templates/html: Remove emacs variable stuff.
	* templates/py: Add emacs variable stuff.
	
2000-10-25  Alex Samuel  <samuel@codesourcery.com>

	* stanard.mk: Add comments.
	(.PHONY): Fix typo.
	(TOPDIR): New variable.
	(XHTMLPROCESS): Likewise.
	($(SUBDIRS)): Pass TOPDIR to child make processes.
	(%.html): Use XHTML processor script.
	* doc/process-xhtml.py: New script.
	* doc/design/qmtrack/GNUmakefile: Use TOPDIR.
	
	* doc/qm.css: Improve comments.
	
2000-10-25  Alex Samuel  <samuel@codesourcery.com>

	* standard.mk: New file.
	* doc/GNUmakefile: Likewise.
	* doc/qm.css: Likewise.
	* doc/design/qmtrack/GNUmakefile: Likewise.
	* templates/html: Update for XHTML.
	
2000-10-24  Alex Samuel  <samuel@codesourcery.com>

	* templates/html (DOCTYPE): Add.

2000-10-24  Alex Samuel  <samuel@codesourcery.com>

	* templates/py: New file.

2000-10-24  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmconfig/...: Import.

2000-10-22  Alex Samuel  <samuel@codesourcery.com>

	* doc/design/qmtest/design.html: Import.
	
2000-10-22  Alex Samuel  <samuel@codesourcery.com>

	* doc/design: New directory.
	* doc/design/qmconfig: Likewise.
	* doc/design/qmbuild: Likewise.
	* doc/design/qmtest: Likewise.
	* doc/design/qmtrack: Likewise.
	
2000-10-22  Alex Samuel  <samuel@codesourcery.com>

	* ChangeLog: New file.
	* README.sources: Likewise.
	* COPYING: Likewise.
	
	* templates: New directory.
	* doc: Likewise.
